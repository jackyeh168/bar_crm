# ğŸ“š User Stories - é¤å»³æœƒå“¡ç®¡ç† Line Bot

æœ¬ç›®éŒ„åŒ…å«ã€Œé¤å»³æœƒå“¡ç®¡ç† Line Botã€å°ˆæ¡ˆçš„æ‰€æœ‰ User Storiesã€‚æ¯å€‹ User Story è©³ç´°æè¿°äº†åŠŸèƒ½éœ€æ±‚ã€é©—æ”¶æ¢ä»¶ã€æ¥­å‹™è¦å‰‡å’ŒæŠ€è¡“å¯¦ä½œç´°ç¯€ã€‚

---

## ğŸ“‹ User Stories ç¸½è¦½

| Story ID | åŠŸèƒ½åç¨± | å„ªå…ˆç´š | ç‹€æ…‹ | è¤‡é›œåº¦ |
|----------|---------|--------|------|--------|
| [US-001](./US-001-account-binding.md) | å¸³è™Ÿç¶å®š | P0 | âœ… Completed | 5 SP |
| [US-002](./US-002-qr-code-scanning-points.md) | QR Code æƒæèˆ‡ç©åˆ†è¨ˆç®— | P0 | âœ… Completed | 13 SP |
| [US-003](./US-003-points-balance-query.md) | ç©åˆ†é¤˜é¡æŸ¥è©¢ | P0 | âœ… Completed | 3 SP |
| [US-004](./US-004-survey-system.md) | å•å·èª¿æŸ¥ç³»çµ± | P1 | âœ… Completed | 13 SP |
| [US-005](./US-005-ichef-integration.md) | iChef POS ç³»çµ±æ•´åˆ | P1 | âœ… Completed | 21 SP |
| [US-006](./US-006-admin-portal.md) | ç®¡ç†å¾Œå°ç³»çµ± | P1 | âœ… Completed | 34 SP |
| [US-007](./US-007-audit-log-system.md) | ç¨½æ ¸æ—¥èªŒç³»çµ± | P1 | âœ… Completed | 21 SP |

**Total Story Points**: 110 SP

---

## ğŸ¯ æŒ‰å„ªå…ˆç´šåˆ†é¡

### **P0 - Must Have (MVP æ ¸å¿ƒåŠŸèƒ½)**

é€™äº›æ˜¯ç³»çµ±æœ€åŸºæœ¬çš„åŠŸèƒ½ï¼Œå¿…é ˆåœ¨ç¬¬ä¸€éšæ®µå®Œæˆï¼š

1. **[US-001: å¸³è™Ÿç¶å®š](./US-001-account-binding.md)**
   - æœƒå“¡è¨»å†Šèˆ‡æ‰‹æ©Ÿè™Ÿç¢¼ç¶å®š
   - LINE ID èˆ‡æ‰‹æ©Ÿè™Ÿç¢¼ä¸€å°ä¸€ç¶å®š
   - æ‰‹æ©Ÿè™Ÿç¢¼æ ¼å¼é©—è­‰

2. **[US-002: QR Code æƒæèˆ‡ç©åˆ†è¨ˆç®—](./US-002-qr-code-scanning-points.md)**
   - ä¸Šå‚³ç™¼ç¥¨ QR Code ç²å¾—ç©åˆ†
   - å‹•æ…‹ç©åˆ†è½‰æ›ç‡
   - ç™¼ç¥¨æœ‰æ•ˆæœŸé©—è­‰ï¼ˆ60 å¤©ï¼‰
   - é‡è¤‡ç™¼ç¥¨æª¢æ¸¬

3. **[US-003: ç©åˆ†é¤˜é¡æŸ¥è©¢](./US-003-points-balance-query.md)**
   - æŸ¥è©¢ç´¯ç©è³ºå–ç©åˆ†
   - æŸ¥è©¢å¯ç”¨ç©åˆ†é¤˜é¡
   - æ”¯æ´ã€Œç©åˆ†ã€é—œéµå­—æŸ¥è©¢

### **P1 - Should Have (é€²éšåŠŸèƒ½)**

é€™äº›åŠŸèƒ½å¢å¼·ç³»çµ±çš„å¯¦ç”¨æ€§å’Œç‡Ÿé‹æ•ˆç‡ï¼š

4. **[US-004: å•å·èª¿æŸ¥ç³»çµ±](./US-004-survey-system.md)**
   - å»ºç«‹å’Œç®¡ç†å•å·
   - Token-based èªè­‰ï¼ˆç„¡éœ€ç™»å…¥ï¼‰
   - å•å·çå‹µç©åˆ†ï¼ˆ+1 é»ï¼‰
   - å•å·å›æ‡‰çµ±è¨ˆ

5. **[US-005: iChef POS ç³»çµ±æ•´åˆ](./US-005-ichef-integration.md)**
   - æ‰¹æ¬¡åŒ¯å…¥ iChef Excel è³‡æ–™
   - è‡ªå‹•é©—è­‰æœƒå“¡æƒæçš„ç™¼ç¥¨
   - é›™å‘é©—è­‰ï¼ˆæœƒå“¡å…ˆæƒ â†” åº—å®¶å…ˆåŒ¯ï¼‰
   - ç™¼ç¥¨ä½œå»¢è™•ç†

6. **[US-006: ç®¡ç†å¾Œå°ç³»çµ±](./US-006-admin-portal.md)**
   - Google OAuth2 èªè­‰
   - RBAC æ¬Šé™æ§åˆ¶ï¼ˆAdmin/User/Guestï¼‰
   - æœƒå“¡ç®¡ç†ã€äº¤æ˜“ç®¡ç†ã€å•å·ç®¡ç†
   - ç©åˆ†è½‰æ›è¦å‰‡ç®¡ç†

7. **[US-007: ç¨½æ ¸æ—¥èªŒç³»çµ±](./US-007-audit-log-system.md)**
   - æ‰€æœ‰è³‡æ–™è®Šæ›´è¿½è¹¤ï¼ˆCREATEã€UPDATEã€DELETEï¼‰
   - ä¸å¯è®Šç¨½æ ¸æ—¥èªŒ
   - äº‹å‹™ä¸€è‡´æ€§ä¿è­‰
   - åˆè¦å ±å‘ŠåŒ¯å‡ºï¼ˆGDPRï¼‰

---

## ğŸ“– æŒ‰åŠŸèƒ½æ¨¡çµ„åˆ†é¡

### **æœƒå“¡åŠŸèƒ½ (Member Features)**

- [US-001: å¸³è™Ÿç¶å®š](./US-001-account-binding.md)
- [US-003: ç©åˆ†é¤˜é¡æŸ¥è©¢](./US-003-points-balance-query.md)

### **ç©åˆ†åŠŸèƒ½ (Points Features)**

- [US-002: QR Code æƒæèˆ‡ç©åˆ†è¨ˆç®—](./US-002-qr-code-scanning-points.md)
- [US-003: ç©åˆ†é¤˜é¡æŸ¥è©¢](./US-003-points-balance-query.md)

### **å•å·åŠŸèƒ½ (Survey Features)**

- [US-004: å•å·èª¿æŸ¥ç³»çµ±](./US-004-survey-system.md)

### **POS æ•´åˆåŠŸèƒ½ (POS Integration Features)**

- [US-005: iChef POS ç³»çµ±æ•´åˆ](./US-005-ichef-integration.md)

### **ç®¡ç†å¾Œå°åŠŸèƒ½ (Admin Features)**

- [US-006: ç®¡ç†å¾Œå°ç³»çµ±](./US-006-admin-portal.md)

### **å®‰å…¨èˆ‡åˆè¦åŠŸèƒ½ (Security & Compliance Features)**

- [US-007: ç¨½æ ¸æ—¥èªŒç³»çµ±](./US-007-audit-log-system.md)

---

## ğŸ—ºï¸ User Journey Map

### **æ–°æœƒå“¡æ—…ç¨‹ (New Member Journey)**

```
1. åŠ å…¥ LINE Bot
   â†“
2. [US-001] ç¶å®šæ‰‹æ©Ÿè™Ÿç¢¼å®Œæˆè¨»å†Š
   â†“
3. [US-002] æƒæç™¼ç¥¨ QR Code ç²å¾—ç©åˆ†
   â†“
4. [US-004] å¡«å¯«å•å·ç²å¾—é¡å¤–çå‹µ
   â†“
5. [US-003] æŸ¥è©¢ç©åˆ†é¤˜é¡
   â†“
6. [US-005] iChef ç³»çµ±é©—è­‰ç™¼ç¥¨ï¼ˆå¾Œå°è‡ªå‹•ï¼‰
```

### **åº—é•·/ç®¡ç†å“¡æ—…ç¨‹ (Admin Journey)**

```
1. [US-006.1] Google å¸³è™Ÿç™»å…¥ç®¡ç†å¾Œå°
   â†“
2. [US-006.2] æŸ¥çœ‹æœƒå“¡è³‡æ–™å’Œäº¤æ˜“è¨˜éŒ„
   â†“
3. [US-005] åŒ¯å…¥ iChef Excel è³‡æ–™é©—è­‰ç™¼ç¥¨
   â†“
4. [US-006.4] å»ºç«‹å•å·æ”¶é›†é¡§å®¢æ„è¦‹
   â†“
5. [US-006.5] è¨­å®šä¿ƒéŠ·æœŸç©åˆ†è½‰æ›ç‡
   â†“
6. [US-006.3] æŸ¥çœ‹äº¤æ˜“çµ±è¨ˆå’Œåˆ†æ
```

### **ç¨½æ ¸äººå“¡æ—…ç¨‹ (Auditor Journey)**

```
1. [US-006.1] Google å¸³è™Ÿç™»å…¥ç®¡ç†å¾Œå°
   â†“
2. [US-007] æŸ¥è©¢ç‰¹å®šæœƒå“¡çš„æ“ä½œæ­·å²
   â†“
3. [US-007] ç¯©é¸ç‰¹å®šæ™‚é–“ç¯„åœçš„ç¨½æ ¸è¨˜éŒ„
   â†“
4. [US-007] æŸ¥çœ‹ç•°å¸¸ç©åˆ†è®Šå‹•è©³æƒ…
   â†“
5. [US-007] åŒ¯å‡ºåˆè¦å ±å‘Šï¼ˆCSV/PDFï¼‰
   â†“
6. [US-007] è™•ç† GDPR è³‡æ–™åˆªé™¤è«‹æ±‚
```

---

## ğŸ”— ä¾è³´é—œä¿‚åœ– (Dependency Graph)

```
US-001 (å¸³è™Ÿç¶å®š)
    â†“
US-002 (QR Code æƒæ) â”€â”€â”€â”€â”€â”€â”€â”€â”
    â†“                         â”‚
    â”œâ”€â†’ US-003 (ç©åˆ†æŸ¥è©¢)     â”‚
    â”‚                         â”‚
    â”œâ”€â†’ US-004 (å•å·ç³»çµ±) â”€â”€â”€â”€â”¤
    â”‚        â†“                â”‚
    â”‚        â””â”€â†’ US-003       â”‚
    â”‚                         â”‚
    â””â”€â†’ US-005 (iChef æ•´åˆ) â”€â”€â”¤
             â†“                â”‚
             â””â”€â†’ US-003       â”‚
                              â”‚
US-006 (ç®¡ç†å¾Œå°) â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
    â”œâ”€â†’ US-001 ~ US-005 (æä¾›è³‡æ–™)
    â””â”€â†’ US-006.5 (ç©åˆ†è¦å‰‡) â”€â†’ US-002

US-007 (ç¨½æ ¸æ—¥èªŒ) â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
    â””â”€â†’ US-001 ~ US-006 (è¨˜éŒ„æ‰€æœ‰è®Šæ›´)
```

### **ä¾è³´èªªæ˜**

- **US-001** æ˜¯æ‰€æœ‰åŠŸèƒ½çš„åŸºç¤ï¼ˆå¿…é ˆå…ˆè¨»å†Šæ‰èƒ½ä½¿ç”¨å…¶ä»–åŠŸèƒ½ï¼‰
- **US-002** å‰µå»ºäº¤æ˜“è¨˜éŒ„ï¼Œè§¸ç™¼å•å·å’Œç©åˆ†è¨ˆç®—
- **US-003** ä¾è³´ US-002, US-004, US-005 çš„ç©åˆ†è¨ˆç®—çµæœ
- **US-004** ä¾è³´ US-002ï¼ˆå•å·é€£çµç¶å®šäº¤æ˜“ï¼‰ï¼Œå½±éŸ¿ US-003ï¼ˆå•å·çå‹µç©åˆ†ï¼‰
- **US-005** ä¾è³´ US-002ï¼ˆé©—è­‰æœƒå“¡æƒæçš„ç™¼ç¥¨ï¼‰ï¼Œå½±éŸ¿ US-003ï¼ˆç©åˆ†é‡ç®—ï¼‰
- **US-006** ç®¡ç†æ‰€æœ‰è³‡æºï¼Œä¾è³´ US-001 ~ US-005 æä¾›çš„è³‡æ–™
- **US-007** è¨˜éŒ„æ‰€æœ‰ Story çš„è³‡æ–™è®Šæ›´ï¼Œæä¾›ç¨½æ ¸è¿½è¹¤èˆ‡åˆè¦æ”¯æ´

---

## ğŸ“Š Story Points åˆ†ä½ˆ

| åŠŸèƒ½é¡å‹ | Story Points | ç™¾åˆ†æ¯” |
|---------|-------------|--------|
| æœƒå“¡ç®¡ç† | 5 | 4.5% |
| ç©åˆ†ç³»çµ± | 16 | 14.5% |
| å•å·ç³»çµ± | 13 | 11.8% |
| POS æ•´åˆ | 21 | 19.1% |
| ç®¡ç†å¾Œå° | 34 | 30.9% |
| å®‰å…¨åˆè¦ | 21 | 19.1% |
| **Total** | **110** | **100%** |

---

## ğŸ¯ é©—æ”¶æ¨™æº–ç¸½è¦½

### **æˆåŠŸæŒ‡æ¨™ (Success Metrics)**

| æŒ‡æ¨™ | ç›®æ¨™ | ç›¸é—œ Story |
|-----|------|----------|
| ç”¨æˆ¶è¨»å†Šç‡ | > 40% | US-001 |
| QR Code æƒæåƒèˆ‡åº¦ | > 60% | US-002 |
| ç©åˆ†æŸ¥è©¢æ´»èºåº¦ | > 80% | US-003 |
| å•å·å®Œæˆç‡ | > 30% | US-004 |
| iChef é©—è­‰ç‡ | > 85% | US-005 |
| ç³»çµ±ç©©å®šæ€§ | > 99.9% | All |
| ç¨½æ ¸æ—¥èªŒå®Œæ•´æ€§ | 100% | US-007 |
| ç¨½æ ¸æ—¥èªŒæŸ¥è©¢æ€§èƒ½ | < 3 ç§’ | US-007 |
| ç¨‹å¼ç¢¼è¦†è“‹ç‡ | > 90% | All (Use Case å±¤) |

---

## ğŸ“ User Story æ–‡ä»¶çµæ§‹

æ¯å€‹ User Story æ–‡ä»¶åŒ…å«ä»¥ä¸‹æ¨™æº–ç« ç¯€ï¼š

1. **ğŸ“– User Story** - As a ... I want ... So that ... æ ¼å¼
2. **âœ… Acceptance Criteria** - Given-When-Then é©—æ”¶æ¢ä»¶
3. **ğŸ“‹ Business Rules** - æ¥­å‹™è¦å‰‡åˆ—è¡¨
4. **ğŸ”§ Technical Implementation Notes** - æŠ€è¡“å¯¦ä½œç´°ç¯€
   - Entity & Value Object
   - Use Case Interface
   - Repository Interface
   - Database Schema
   - Error Handling
5. **ğŸ§ª Test Cases** - å–®å…ƒæ¸¬è©¦ã€æ•´åˆæ¸¬è©¦
6. **ğŸ“¦ Dependencies** - å…§éƒ¨ä¾è³´ã€å¤–éƒ¨ä¾è³´ã€æœå‹™ä¾è³´
7. **ğŸ“Š Success Metrics** - æˆåŠŸæŒ‡æ¨™
8. **ğŸ¯ User Personas** - ç›®æ¨™ç”¨æˆ¶ç•«åƒ
9. **ğŸ“ UI/UX Flow** - ä½¿ç”¨è€…æµç¨‹å’Œä»‹é¢
10. **ğŸ”— Related Documents** - ç›¸é—œæ–‡ä»¶é€£çµ

---

## ğŸš€ é–‹ç™¼é †åºå»ºè­°

### **Phase 1: MVP æ ¸å¿ƒåŠŸèƒ½**

1. **Sprint 1** (5 SP)
   - US-001: å¸³è™Ÿç¶å®š

2. **Sprint 2** (13 SP)
   - US-002: QR Code æƒæèˆ‡ç©åˆ†è¨ˆç®—

3. **Sprint 3** (3 SP)
   - US-003: ç©åˆ†é¤˜é¡æŸ¥è©¢

### **Phase 2: é€²éšåŠŸèƒ½**

4. **Sprint 4** (13 SP)
   - US-004: å•å·èª¿æŸ¥ç³»çµ±

5. **Sprint 5-6** (21 SP)
   - US-005: iChef POS ç³»çµ±æ•´åˆ

6. **Sprint 7-9** (34 SP)
   - US-006: ç®¡ç†å¾Œå°ç³»çµ±
     - Sprint 7: US-006.1 (èªè­‰) + US-006.2 (æœƒå“¡ç®¡ç†)
     - Sprint 8: US-006.3 (äº¤æ˜“ç®¡ç†) + US-006.4 (å•å·ç®¡ç†)
     - Sprint 9: US-006.5 (ç©åˆ†è¦å‰‡ç®¡ç†)

### **Phase 3: ç³»çµ±å„ªåŒ–**

7. **Sprint 10-11** (21 SP)
   - US-007: ç¨½æ ¸æ—¥èªŒç³»çµ±
     - Sprint 10: ç¨½æ ¸æ—¥èªŒåŸºç¤è¨­æ–½ + äº‹å‹™ä¸€è‡´æ€§
     - Sprint 11: æŸ¥è©¢ä»‹é¢ + åˆè¦å ±å‘ŠåŒ¯å‡º

---

## ğŸ“š ç›¸é—œæ–‡ä»¶

### **ç”¢å“æ–‡ä»¶**

- [PRD.md](../PRD.md) - å®Œæ•´çš„ç”¢å“éœ€æ±‚æ–‡ä»¶
- [stories/](.) - User Stories è©³ç´°æ–‡ä»¶ï¼ˆæœ¬ç›®éŒ„ï¼‰
- [ui-ux/](../ui-ux/) - UI/UX è¨­è¨ˆæ–‡ä»¶

### **æŠ€è¡“æ–‡ä»¶**

- [SYSTEM_DESIGN.md](../../architecture/SYSTEM_DESIGN.md) - ç³»çµ±æ¶æ§‹è¨­è¨ˆ
- [DOMAIN_MODEL.md](../../architecture/DOMAIN_MODEL.md) - é ˜åŸŸæ¨¡å‹è¨­è¨ˆ
- [DATABASE_DESIGN.md](../../architecture/DATABASE_DESIGN.md) - è³‡æ–™åº«è¨­è¨ˆ
- [DEPLOYMENT.md](../../operations/DEPLOYMENT.md) - éƒ¨ç½²èˆ‡é…ç½®ç®¡ç†

### **é–‹ç™¼æŒ‡å¼•**

- [README.md](../../../README.md) - å®Œæ•´çš„é–‹ç™¼æŒ‡å—
- [CLAUDE.md](../../../CLAUDE.md) - Claude Code AI åŠ©æ‰‹é–‹ç™¼æŒ‡å¼•
- [ADMIN_API.md](../../../ADMIN_API.md) - ç®¡ç†å¾Œå° API æ–‡ä»¶

---

## ğŸ” å¿«é€ŸæŸ¥æ‰¾

**æƒ³è¦æ‰¾...**

- ğŸ“ **æœƒå“¡å¦‚ä½•è¨»å†Šï¼Ÿ** â†’ [US-001](./US-001-account-binding.md)
- ğŸ“¸ **å¦‚ä½•æƒæç™¼ç¥¨ç²å¾—ç©åˆ†ï¼Ÿ** â†’ [US-002](./US-002-qr-code-scanning-points.md)
- ğŸ’° **å¦‚ä½•æŸ¥è©¢ç©åˆ†ï¼Ÿ** â†’ [US-003](./US-003-points-balance-query.md)
- ğŸ“‹ **å¦‚ä½•å»ºç«‹å•å·ï¼Ÿ** â†’ [US-004](./US-004-survey-system.md)
- ğŸ”„ **å¦‚ä½•åŒ¯å…¥ iChef è³‡æ–™ï¼Ÿ** â†’ [US-005](./US-005-ichef-integration.md)
- ğŸ–¥ï¸ **å¦‚ä½•ä½¿ç”¨ç®¡ç†å¾Œå°ï¼Ÿ** â†’ [US-006](./US-006-admin-portal.md)
- ğŸ” **å¦‚ä½•æŸ¥è©¢ç¨½æ ¸æ—¥èªŒï¼Ÿ** â†’ [US-007](./US-007-audit-log-system.md)
- ğŸ“Š **å¦‚ä½•åŒ¯å‡ºåˆè¦å ±å‘Šï¼Ÿ** â†’ [US-007](./US-007-audit-log-system.md)

---

## âœ… User Stories Checklist

### **Phase 1: MVP æ ¸å¿ƒåŠŸèƒ½**

- [x] US-001: å¸³è™Ÿç¶å®š
- [x] US-002: QR Code æƒæèˆ‡ç©åˆ†è¨ˆç®—
- [x] US-003: ç©åˆ†é¤˜é¡æŸ¥è©¢

### **Phase 2: é€²éšåŠŸèƒ½**

- [x] US-004: å•å·èª¿æŸ¥ç³»çµ±
- [x] US-005: iChef POS ç³»çµ±æ•´åˆ
- [x] US-006: ç®¡ç†å¾Œå°ç³»çµ±
  - [x] US-006.1: èªè­‰èˆ‡æˆæ¬Š
  - [x] US-006.2: æœƒå“¡ç®¡ç†
  - [x] US-006.3: äº¤æ˜“ç®¡ç†
  - [x] US-006.4: å•å·ç®¡ç†
  - [x] US-006.5: ç©åˆ†è½‰æ›è¦å‰‡ç®¡ç†

### **Phase 3: ç³»çµ±å„ªåŒ–**

- [x] US-007: ç¨½æ ¸æ—¥èªŒç³»çµ±
  - [x] å®Œæ•´ç¨½æ ¸è¿½è¹¤
  - [x] äº‹å‹™ä¸€è‡´æ€§ä¿è­‰
  - [x] GDPR åˆè¦æ”¯æ´
  - [x] ç•°å¸¸ç›£æ§

### **Phase 4: æœªä¾†åŠŸèƒ½ (è¨ˆç•«ä¸­)**

- [ ] ç©åˆ†å…Œæ›åŠŸèƒ½ (V3.2)
- [ ] å„ªæƒ åˆ¸ç³»çµ± (V3.3)
- [ ] æœƒå“¡åˆ†ç´šåˆ¶åº¦ (V3.4)
- [ ] Event Sourcing ç©åˆ†ç³»çµ± (V4.0)

---

## ğŸ“ è¯çµ¡è³‡è¨Š

å¦‚æœ‰ä»»ä½•å•é¡Œæˆ–å»ºè­°ï¼Œè«‹è¯ç¹«ï¼š

- **Product Owner**: Sarah
- **Technical Lead**: Backend Team
- **QA Lead**: QA Team

---

**æ–‡ä»¶ç‰ˆæœ¬**: V3.1 (Clean Architecture Compliant)
**æœ€å¾Œæ›´æ–°**: 2025-01-08
**ç¶­è­·è€…**: Product Team
